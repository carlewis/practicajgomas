#summary Estrategia para asignar un rol a cada agente

= Introducción =

En cada estrategia agentes del mismo tipo pueden jugar papeles (roles) diferentes dentro del equipo, siendo necesario una estrategia para determinar qué roles hay, y como asignarselos a cada agente.

= Planteamiento =

La negociación de los roles se hará mediante una contienda por ser el lider, es decir, todos los agentes solicitarán el puesto hasta que quede definido. El resto de roles los asigna el lider: 

  # Cada usuario genera un numero aleatorio entre 0 y 10 que será su puja.
  # Cada usuario envia un mensaje "QUIERO SER EL LIDER" y su PUJA al resto, uno por uno. 
  # Si el agente que lo recibe no conoce un lider o es él el lider compara las pujas. 
    * Si su puja es menor envia "TU ERES EL LIDER"
    * Si es mayor envia "YO SOY EL LIDER"
  # Los dos agentes pasan a conocer al nuevo lider.
  # Si el agente receptor ya conoce un lider, y no es él mismo, responde "YA HAY LIDER" y la identificacion del lider. El emisor contactará con el lider si no es él mismo.
  # Vuelve al paso 3.

Finalmente un solo agente será el lider y será el encargado de informar al resto de agentes. 
Se repite el algoritmo para cada rol. 
Puede que haya bastante trasiego de mensajes, estudiar y optimizar si es posible.

= Implementacion = 

En primer lugar se definen los tipos de mensajes: 
{{{
public enum LeaderMessage { REQUEST, VALUE, ALREADY_EXISTS, I_WIN, YOU_WIN };
}}}

Despues hay que definir *cuando comienza el protocolo*. Esto no puede suceder inmediatamente despues al lanzamiento del comportamiento de las comunicaciones, ya que es 
probable que los agentes no hayan entrado en contacto todos con todos. Solución: lanzamos un comportamiento simple en el que esperamos a que todos los agentes estén comunicados, cuando esto ocurra se comienza la negociacion de lider.

== Problema == 

Puesto que el algoritmo se basa en que hay que interactuar con los agentes de uno en uno, es necesario tener una estructura de datos que nos indique con qué agentes ya hemos dialogado. 